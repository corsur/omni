# ethstate
**ethstate** is a blockchain built using Cosmos SDK and Tendermint and created with [Ignite CLI](https://ignite.com/cli).
## Instructions for Omni

To spin up a local devnet, first make sure all the dependencies are available by running from the app directory

```
go mod tidy
```

You can set a different ETH RPC endpoint by modifying the URL used in x/keeper/storage_slot.go line 51. Currently it is set to infura.

Once all dependencies and RPC endpoints are in place, start the chain:

```
ignite chain serve
```

Open up a different terminal window. In the new terminal window, you can add new ethereum state to your chain by running this command:

```
~/go/bin/ethStated tx ethstate  create-storage-slot "0x271682DEB8C4E0901D1a1550aD2e64D568E69909" "0x0" --from alice
```

Feel free to replace the address and the storage slot variables with any desired. 

In order to query the stored states, run this command:

```
~/go/bin/ethStated q ethstate list-storage-slot
```

## Improvements
There are several categories to improve on here:

### Testability
Currently there are automated tests generated by the ignite framework. However, testing needs to account for aberrant behavior and have a security stance. There should be tests for every error that could cause an issue. There should be tests with specific hacks attempted and proof of resiliency.

### Usability
Usability means first asking: who is using this application? This is a backend tool in order to transfer and store information from one chain to another. No need for too much consideration for web interfaces. Documentation in English and potentially Chinese would be very useful to expand the amount of people that can interact with it. Exporting the ethstate module as a component to be used for other modules should be the end goal. 

### Extensibility
Right now the RPC endpoint is hardcoded in. It would be useful to make that part variable in order for this to have future potential. The design is overall fairly modular, with only mainstream dependencies that shouldn't require much in updates.

### Security
On a code level,the documentation for ignite suggests there is an update mechanism that could be used to change the state after the fact. 

On a protocol level, Cosmos chains are secured by POS, and the module runs after a user has sent a transaction. If the blockchain is decentralized and secure, the block producer at the time will be the one running the network call and adding the results. In normal situations, that is fine. If the block producer has an incentive to lie, then that is a major issue. IBC should be handled by a separate, decentralized network that is wholly incetivized to make truthful outputs onto other chains.

## Appendix

## Get started

```
ignite chain serve
```

`serve` command installs dependencies, builds, initializes, and starts your blockchain in development.

### Configure

Your blockchain in development can be configured with `config.yml`. To learn more, see the [Ignite CLI docs](https://docs.ignite.com).

### Web Frontend

Ignite CLI has scaffolded a Vue.js-based web app in the `vue` directory. Run the following commands to install dependencies and start the app:

```
cd vue
npm install
npm run serve
```

The frontend app is built using the `@starport/vue` and `@starport/vuex` packages. For details, see the [monorepo for Ignite front-end development](https://github.com/ignite/web).

## Release
To release a new version of your blockchain, create and push a new tag with `v` prefix. A new draft release with the configured targets will be created.

```
git tag v0.1
git push origin v0.1
```

After a draft release is created, make your final changes from the release page and publish it.

### Install
To install the latest version of your blockchain node's binary, execute the following command on your machine:

```
curl https://get.ignite.com/username/ethState@latest! | sudo bash
```
`username/ethState` should match the `username` and `repo_name` of the Github repository to which the source code was pushed. Learn more about [the install process](https://github.com/allinbits/starport-installer).

## Learn more

- [Ignite CLI](https://ignite.com/cli)
- [Tutorials](https://docs.ignite.com/guide)
- [Ignite CLI docs](https://docs.ignite.com)
- [Cosmos SDK docs](https://docs.cosmos.network)
- [Developer Chat](https://discord.gg/ignite)
